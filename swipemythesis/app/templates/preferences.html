{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'app/css/styles.css' %}">
    <title>Select Your Preferences</title> 
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Find hot papers in your research area <span class="fire-emoji">ðŸ”¥</span></h1>
            <div class="hot-papers">
                <i> Read a research paper everyday anon.</i>
            </div>
        </div>

        <form action="{% url 'submit_preferences' %}" method="POST" id="preferencesForm">
            {% csrf_token %}
            
            <div class="progress-dots">
                <div class="dot active"></div>
                <div class="dot"></div>
                <div class="dot"></div>
                <div class="dot"></div>
            </div>

            <!-- Reading Time Step -->
            <div class="form-step active" data-step="1">
                <h2>Daily Reading Time (minutes)</h2>
                <div class="time-control">
                    <button type="button" class="btn" onclick="adjustTime(-15)">-15</button>
                    <div class="time-display">60</div>
                    <button type="button" class="btn" onclick="adjustTime(15)">+15</button>
                </div>
                <input type="hidden" name="reading_time" id="reading_time" value="60" required>
            </div>

            <!-- Difficulty Level Step -->
            <div class="form-step" data-step="2">
                <h2>Difficulty Level</h2>
                <div class="difficulty-slider">
                    <input type="range" id="difficulty_level" name="difficulty_level" min="0" max="100">
                    <input type="hidden" name="difficulty_level" id="difficulty_level_hidden" value="Basic">                    
                </div>
                <div class="difficulty-labels">
                    <span>Basic</span>
                    <span>Advanced</span>
                </div>
            </div>

            <!-- Paper Recency Step -->
            <div class="form-step" data-step="3">
                <h2>Paper Recency</h2>
                <div class="recency-options">
                    <button type="button" class="interest-btn" data-value=180>3 months</button>
                    <button type="button" class="interest-btn" data-value=365>1 year</button>
                    <button type="button" class="interest-btn" data-value=1825>5 years</button>
                    <button type="button" class="interest-btn" data-value=1000000>Anytime</button>
                </div>
                <input type="hidden" name="paper_recency" id="paper_recency" required>
            </div>

            <!-- Research Interests Step -->
            <div class="form-step" data-step="4">
                <h2>Research Interests</h2>
                <div class="research-interests">
                    <button type="button" class="interest-btn" data-value="Machine learning">Machine Learning</button>
                    <button type="button" class="interest-btn" data-value="Deep Learning">Deep Learning</button>
                    <button type="button" class="interest-btn" data-value="Natural Language Processing">NLP</button>
                    <button type="button" class="interest-btn" data-value="Finance">Finance</button>
                    <button type="button" class="interest-btn" data-value="Sports">Sports</button>
                    <button type="button" class="interest-btn" data-value="Computer Vision">CV</button>
                    <button type="button" class="interest-btn" data-value="Large Language Models">LLMs</button>
                    <button type="button" class="interest-btn" data-value="Systems">Systems</button>
                    <button type="button" class="interest-btn" data-value="Security">Security</button>
                </div>
                <input type="hidden" name="research_interests" id="research_interests" required>
            </div>

            <div class="navigation">
                <button type="button" class="btn" id="prevBtn" style="display: none;">Back</button>
                <button type="button" class="btn" id="nextBtn">Next</button>
            </div>
        </form>
    </div>
    <script src="{% static 'app/js/scripts.js' %}"></script>
</body>
</html>